<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fresh Chat</title>
    <link rel="stylesheet" href="../assets/css/chat.css" />
    <script
      src="https://kit.fontawesome.com/a06ff6477a.js"
      crossorigin="anonymous"
    ></script>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="../assets/css/nav-sideBar.css" />
  </head>
  <body>
    <nav>
      <!-- logo image -->
      <div class="logo-div">
        <img
          class="logo-image"
          src="../assets/images/logos/bird-logo.png"
          alt="fresh-nest-logo"
        />
      </div>

      <!-- nav link -->
      <div class="link-container">
        <ul>
          <li>About us</li>
          <li>Features</li>
          <li>Download</li>
          <li>Suport</li>
          <li>Guide</li>
        </ul>
      </div>

      <!-- search bar  and web language-->

      <div class="input-globe-container">
        <div class="form">
          <i class="fa fa-search"></i>
          <input
            type="text"
            class="form-control form-input"
            placeholder="Search anything..."
          />
          <span class="left-pan"><i class="fa-solid fa-feather"></i></span>
        </div>
        <div><i class="fa-sharp fa-solid fa-globe"></i></div>
      </div>
    </nav>

    <div class="side-bar">
      <!-- side profile -->
      <div class="chat-profile-area-container">
        <div class="side-bar-profile-div">
          <img id="user-image" src="" onclick="profile()" alt="" />
        </div>

        <div class="side-bar-control-div">
          <i class="bi bi-house" onclick="home()"></i>
          <i class="fa-solid fa-at" onclick="mention()"></i>
          <i class="fa-solid fa-message" onclick="freshChat()"></i>
          <i class="fa-solid fa-camera" onclick="freshCam()"></i>
          <i class="fa-brands fa-battle-net" onclick="invite()"></i>
          <i class="bi bi-bell" onclick="notification()"></i>
          <i class="bi bi-gear" onclick="setting()"></i>
        </div>

        <div class="log-out-div">
          <i class="bi bi-box-arrow-left" onclick="logOutUser()"></i>
        </div>
      </div>
    </div>
    <link rel="stylesheet" href="../index.html" />

    <!-- chat area -->
    <section class="section-container">
      <div class="chat-member-left-container">
        <div class="chat-inside-member-left-div">
          <!-- search bar -->
          <div></div>

          <!-- reels -->
          <div class="whole-reel-container">
            <!-- Reel and setting -->

            <!-- reel profile -->

            <div class="reel-container"></div>
          </div>

          <!-- chat member area -->

          <!-- message area -->
          <div class="message-member-container">
            <!-- message setting div -->

            <div class="chat-member-container"></div>
          </div>
        </div>
      </div>

      <!-- chat area box -->

      <div class="chat-box-container">
        <div class="chat-box-inside-container">
          <!-- chat profile are -->
          <div class="chat-member-option-div"></div>

          <!-- chat showing message box css -->

          <div class="chat-place-container">
            <div class="chat-place-div">
              <div class="right-side-container"></div>
            </div>
          </div>

          <!-- chat message input container css -->

          <div class="chat-input-option-div">
            <form id="chat-input-form">
              <div class="emoji-div">
                <i class="fa-regular fa-face-smile"></i>
              </div>

              <div><input id="chat-input" type="text" /></div>

              <div class="chat-file-option-div">
                <i class="fa fa-file" aria-hidden="true"></i>
                <i class="fa fa-microphone" aria-hidden="true"></i>
              </div>

              <div class="chat-submit-button-div">
                <button id="chat-submit" type="submit" onclick="chatsend()">
                  <span>Submit</span
                  ><i class="fa fa-paper-plane" aria-hidden="true"></i>
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- script -->

    <!-- <script src="../assets/js/chat.js"></script> -->
    <script src="../assets/js/chatAdditional.js"></script>
    <script src="../assets/js/page-direction.js"></script>
    <script src="../node_modules/moment/moment.js"></script>
    <script src="../assets/js/home.js"></script>
    <script>
      console.log(moment());
      let sendTime = moment().format("LT");

      let sender = JSON.parse(localStorage.getItem("senderMessage"));
      console.log(sender);

      //

      // first div
      const div = document.createElement("div");
      div.setAttribute("class", "members");
      div.setAttribute("id", foundChatter["id"]);
      div.setAttribute("onclick", "userSelector(this.id)");

      // second div

      const image_div = document.createElement("div");
      image_div.setAttribute("class", "image-name");
      // document.querySelector(".members").append(image_div);
      div.append(image_div);

      // third div

      const image = document.createElement("div");
      image.setAttribute("class", "image");
      // document.querySelector(".image-name").append(image);
      image_div.append(image);

      // image attribute

      const img = document.createElement("img");
      img.setAttribute("class", "member-image");
      // img.setAttribute("src", userChatBox["image"]);
      // document.querySelector(".image").append(img);
      image.append(img);

      // name div

      const nameOne = document.createElement("div");
      nameOne.setAttribute("class", "name");
      // document.querySelector(".image-name").append(name);
      image_div.append(nameOne);

      // name para attribute

      const para = document.createElement("p");
      para.innerText = foundChatter["userName"];
      // document.querySelector(".name").append(para);
      nameOne.append(para);

      // chat para attribute

      const paragraph = document.createElement("p");
      paragraph.innerText = sender[sender.length - 1]["chat"];
      nameOne.append(paragraph);

      // Last seen div

      const timeAgo = document.createElement("div");
      timeAgo.setAttribute("id", "time-ago");
      timeAgo.innerHTML = sendTime;
      div.append(timeAgo);

      // Last seen paragraph

      const time = document.createElement("p");
      // time.innerText = userChatBox["lastseen"];
      // document.querySelector(".time-ago").append(time);
      timeAgo.append(time);

      document.querySelector(".chat-member-container").append(div);
    </script>
  </body>
</html>
